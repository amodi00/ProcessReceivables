/*
 * Copyright (C) 2009-2023 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["fin/ar/process/receivables/ext/utils/FunctionCallExecutor"],function(F){return sap.ui.controller("fin.ar.process.receivables.ext.controller.ListReportExt",{onInit:function(){var _=this.getOwnerComponent().getModel();_.attachBatchRequestCompleted(this._addFilterData.bind(this));},onAfterRendering:function(){if(this.getView().byId("fin.ar.process.receivables::sap.suite.ui.generic.template.ListReport.view.ListReport::CollectionsAccount--BranchHeader")){this.getView().byId("fin.ar.process.receivables::sap.suite.ui.generic.template.ListReport.view.ListReport::CollectionsAccount--BranchHeader").setVisible(false);}},_addFilterData:function(e){if(e.getParameters("request").requests[0].url.indexOf("CollectionsAccount")>-1){if(this.getView().byId("fin.ar.process.receivables::sap.suite.ui.generic.template.ListReport.view.ListReport::CollectionsAccount--BranchHeader")){this.getView().byId("fin.ar.process.receivables::sap.suite.ui.generic.template.ListReport.view.ListReport::CollectionsAccount--BranchHeader").setVisible(false);}}var _=this.getView().byId("listReportFilter");if(this._bAlreadySetFilter){return;}var a=this.getView().getModel();this._bAlreadySetFilter=true;F.getCompaniesForSegmentPromise(a,{}).then(function(r){this._companies=[];for(var i=0;i<r.results.length;i++){this._companies.push({"Company":r.results[i].CompanyCode,"Segment":r.results[i].CollectionSegment});}}.bind(this));},adaptNavigationParameterExtension:function(s,o){if(s.getSelectOption("CompanyCode")[0].Low===""){var _=s.getSelectOption("CollectionSegment")[0].Low;this._selectionVariant=s;s.removeSelectOption("CompanyCode");for(var i=0;i<this._companies.length;i++){if(_===this._companies[i].Segment){s.addSelectOption("CompanyCode","I","EQ",this._companies[i].Company,"");}}}},onNavigationTargetObtained:function(e){jQuery.each(e.getParameters().actions,function(i){var _=e.getParameters().actions[i].getProperty("href").split("&sap-app-origin-hint")[0];_=_.replace("BusinessPartner=","");if(_.search("Receivables")===-1){_=_.replace("CompanyCode=","");}e.getParameters().actions[i].setProperty("href",_);});}});});
